# üß™ GUIDE DE TEST - DASHBOARD VENDEUR
## Validation des corrections apr√®s Option A ou Option B

*Date: 7 Octobre 2025*  
*Version: 1.0*

---

## üìã CHECKLIST TESTS - OPTION A (10 bugs)

### **TEST 1: Navigation vers d√©tail propri√©t√©** ‚úÖ
**Bug corrig√©**: `handleViewProperty()`  
**Fichier**: `VendeurProperties.jsx`

**Proc√©dure**:
1. Aller sur `/dashboard/vendeur/properties`
2. Cliquer sur bouton "üëÅÔ∏è Voir" d'une propri√©t√©
3. ‚úÖ **Attendu**: Redirection vers `/dashboard/parcel/:id`
4. ‚úÖ **Attendu**: Page d√©tail s'affiche avec toutes les infos

**Validation**:
- [ ] URL change correctement
- [ ] Page d√©tail charge sans erreur
- [ ] Images s'affichent
- [ ] Bouton "Acheter" visible
- [ ] Informations vendeur pr√©sentes

---

### **TEST 2: Navigation vers √©dition propri√©t√©** ‚úÖ
**Bug corrig√©**: `handleEditProperty()`  
**Fichier**: `VendeurProperties.jsx`

**Proc√©dure**:
1. Sur page Properties
2. Cliquer sur bouton "‚úèÔ∏è Modifier"
3. ‚úÖ **Attendu**: Redirection vers `/dashboard/edit-parcel/:id`
4. ‚úÖ **Attendu**: Formulaire pr√©-rempli avec donn√©es existantes

**Validation**:
- [ ] Navigation fonctionne
- [ ] Formulaire affiche donn√©es correctes
- [ ] Tous les champs √©ditables
- [ ] Bouton "Enregistrer" pr√©sent
- [ ] Upload nouvelles photos possible

---

### **TEST 3: Suppression propri√©t√©** ‚úÖ
**Bug corrig√©**: `handleDeleteProperty()`  
**Fichier**: `VendeurProperties.jsx`

**Proc√©dure**:
1. Sur page Properties
2. Cliquer sur bouton "üóëÔ∏è Supprimer"
3. ‚úÖ **Attendu**: Modal confirmation s'ouvre
4. Confirmer la suppression
5. ‚úÖ **Attendu**: Toast "Propri√©t√© supprim√©e"
6. ‚úÖ **Attendu**: Propri√©t√© dispara√Æt de la liste

**Validation**:
- [ ] Modal AlertDialog (pas `confirm()` natif)
- [ ] Suppression enregistr√©e dans Supabase
- [ ] Toast notification affich√©
- [ ] Liste recharg√©e automatiquement
- [ ] Propri√©t√© n'appara√Æt plus

**Test Supabase**:
```sql
-- V√©rifier suppression
SELECT * FROM parcels WHERE id = 'ID_SUPPRIM√â';
-- Doit retourner 0 lignes
```

---

### **TEST 4: Partage propri√©t√© social** ‚úÖ
**Bug corrig√©**: `handleShareProperty()`  
**Fichier**: `VendeurProperties.jsx`

**Proc√©dure**:
1. Sur page Properties
2. Cliquer sur bouton "üì§ Partager"
3. ‚úÖ **Attendu**: Modal partage s'ouvre

**Validation modal**:
- [ ] Bouton WhatsApp pr√©sent et fonctionne
- [ ] Bouton Facebook pr√©sent et fonctionne
- [ ] Bouton Email pr√©sent et fonctionne
- [ ] Bouton "Copier lien" pr√©sent
- [ ] Lien copi√© dans clipboard
- [ ] Toast "Lien copi√©" affich√©

**Test liens**:
- [ ] WhatsApp: Ouvre app/web avec message pr√©-rempli
- [ ] Facebook: Ouvre dialog partage
- [ ] Email: Ouvre client email avec sujet/corps
- [ ] Copier: `navigator.clipboard.writeText()` fonctionne

---

### **TEST 5: Sauvegarder brouillon** ‚úÖ
**Bug corrig√©**: `handleSaveDraft()`  
**Fichier**: `VendeurAddTerrain.jsx`

**Proc√©dure**:
1. Aller sur `/dashboard/add-parcel`
2. Remplir formulaire partiellement (nom + localisation uniquement)
3. Cliquer bouton "üíæ Sauvegarder brouillon"
4. ‚úÖ **Attendu**: Toast "Brouillon sauvegard√©"
5. ‚úÖ **Attendu**: Redirection vers "Mes Annonces"

**Validation**:
- [ ] INSERT Supabase avec `status: 'draft'`
- [ ] Toast confirmation
- [ ] Redirection automatique
- [ ] Brouillon appara√Æt dans liste avec badge "Brouillon"

**Test Supabase**:
```sql
-- V√©rifier brouillon cr√©√©
SELECT * FROM parcels 
WHERE seller_id = 'USER_ID' 
AND status = 'draft'
ORDER BY created_at DESC 
LIMIT 1;
```

---

### **TEST 6: Sauvegarder param√®tres** ‚úÖ
**Bug corrig√©**: `handleSaveSettings()`  
**Fichier**: `VendeurSettings.jsx`

**Proc√©dure**:
1. Aller sur `/dashboard/vendeur/settings`
2. Modifier email de notification
3. Changer pr√©f√©rences notifications (activer/d√©sactiver)
4. Cliquer "üíæ Enregistrer"
5. ‚úÖ **Attendu**: Toast "Param√®tres sauvegard√©s"

**Validation**:
- [ ] UPDATE Supabase table `profiles`
- [ ] Toast confirmation
- [ ] Page recharg√©e avec nouvelles valeurs
- [ ] Modifications persist√©es

**Test Supabase**:
```sql
-- V√©rifier update
SELECT notification_email, notification_preferences 
FROM profiles 
WHERE id = 'USER_ID';
```

**Test persistance**:
- [ ] Recharger page ‚Üí Nouvelles valeurs affich√©es
- [ ] D√©connexion/reconnexion ‚Üí Param√®tres conserv√©s

---

### **TEST 7: Bouton Appeler CRM** ‚úÖ
**Bug corrig√©**: Bouton "Appeler" CRM  
**Fichier**: `VendeurCRM.jsx`

**Proc√©dure**:
1. Aller sur `/dashboard/vendeur/crm`
2. Cliquer sur bouton "üìû Appeler" d'un contact
3. ‚úÖ **Attendu**: Application t√©l√©phone s'ouvre (mobile) ou dialog (desktop)

**Validation**:
- [ ] Lien `tel:+221XXXXXXXX` fonctionne
- [ ] Sur mobile: App t√©l√©phone s'ouvre
- [ ] Sur desktop: Dialog syst√®me ou Skype
- [ ] Num√©ro correctement format√©

**Test diff√©rents formats**:
- [ ] +221 77 123 45 67
- [ ] 00221771234567
- [ ] 771234567

---

### **TEST 8: Bouton Email CRM** ‚úÖ
**Bug corrig√©**: Bouton "Email" CRM  
**Fichier**: `VendeurCRM.jsx`

**Proc√©dure**:
1. Sur page CRM
2. Cliquer sur bouton "‚úâÔ∏è Email" d'un contact
3. ‚úÖ **Attendu**: Client email s'ouvre

**Validation**:
- [ ] Lien `mailto:contact@example.com` fonctionne
- [ ] Client email par d√©faut s'ouvre
- [ ] Destinataire pr√©-rempli
- [ ] Sujet optionnel pr√©sent

**Test avec sujet/corps**:
```javascript
mailto:contact@example.com?subject=Suivi%20Propri√©t√©&body=Bonjour
```

---

### **TEST 9: Navigation page Photos** ‚úÖ
**Bug corrig√©**: `handleAddPhotos()`  
**Fichier**: `ModernVendeurDashboard.jsx`

**Proc√©dure**:
1. Sur dashboard vendeur
2. Cliquer sur bouton "üì∑ Ajouter Photos IA"
3. ‚úÖ **Attendu**: Redirection vers `/dashboard/vendeur/photos`

**Validation**:
- [ ] Navigation fonctionne
- [ ] Page photos charge
- [ ] Upload photos possible
- [ ] Galerie existante affich√©e

---

### **TEST 10: Navigation page Analytics** ‚úÖ
**Bug corrig√©**: `handleViewAnalytics()`  
**Fichier**: `ModernVendeurDashboard.jsx`

**Proc√©dure**:
1. Sur dashboard vendeur
2. Cliquer sur bouton "üìä Voir Analytics"
3. ‚úÖ **Attendu**: Redirection vers `/dashboard/vendeur/analytics`

**Validation**:
- [ ] Navigation fonctionne
- [ ] Page analytics charge
- [ ] Graphiques affich√©s
- [ ] Statistiques pr√©sentes

---

## üß™ TESTS END-TO-END - WORKFLOWS COMPLETS

### **Workflow 1: Ajout terrain complet**
**√âtapes**:
1. Connexion en tant que Vendeur
2. Dashboard ‚Üí "‚ûï Ajouter Bien"
3. Remplir formulaire (4 √©tapes)
4. Upload 3 photos
5. Upload 1 document PDF
6. Soumettre

**Validation**:
- [ ] Toutes les √©tapes fonctionnent
- [ ] Photos upload√©es sur Storage
- [ ] Documents upload√©s sur Storage
- [ ] Terrain cr√©√© dans Supabase
- [ ] Redirection vers "Mes Annonces"
- [ ] Terrain appara√Æt dans liste avec status "pending_verification"

---

### **Workflow 2: Modification terrain**
**√âtapes**:
1. Liste annonces
2. Cliquer "Modifier" sur une annonce
3. Changer prix de 85M ‚Üí 90M
4. Ajouter 2 nouvelles photos
5. Enregistrer

**Validation**:
- [ ] Page edit charge avec donn√©es
- [ ] Modifications sauvegard√©es
- [ ] Nouvelles photos ajout√©es
- [ ] Anciennes photos conserv√©es
- [ ] Prix mis √† jour
- [ ] Toast confirmation
- [ ] Retour liste annonces

---

### **Workflow 3: Partage social**
**√âtapes**:
1. Liste annonces
2. Cliquer "Partager" sur une annonce
3. Tester chaque bouton partage

**Validation WhatsApp**:
- [ ] Ouvre WhatsApp Web/App
- [ ] Message contient titre terrain
- [ ] Lien vers d√©tail inclus

**Validation Facebook**:
- [ ] Ouvre dialog Facebook
- [ ] Preview image s'affiche
- [ ] Description pr√©sente

**Validation Email**:
- [ ] Client email s'ouvre
- [ ] Sujet = Titre terrain
- [ ] Corps = Description + lien

**Validation Copier lien**:
- [ ] Lien copi√© dans clipboard
- [ ] Toast "Lien copi√©"
- [ ] Lien fonctionnel

---

### **Workflow 4: Suppression terrain**
**√âtapes**:
1. Liste annonces
2. Cliquer "Supprimer"
3. Confirmer modal
4. V√©rifier suppression

**Validation**:
- [ ] Modal AlertDialog s'ouvre
- [ ] Boutons "Annuler" et "Supprimer"
- [ ] Clic "Annuler" ‚Üí Rien ne se passe
- [ ] Clic "Supprimer" ‚Üí DELETE Supabase
- [ ] Toast "Propri√©t√© supprim√©e"
- [ ] Terrain dispara√Æt de liste
- [ ] Photos Storage supprim√©es ?

---

### **Workflow 5: Brouillon ‚Üí Publication**
**√âtapes**:
1. Cr√©er terrain en brouillon
2. Retourner liste annonces
3. Cliquer "Modifier" sur brouillon
4. Compl√©ter formulaire
5. Publier

**Validation**:
- [ ] Brouillon badge "Brouillon" visible
- [ ] Modification ouvre formulaire pr√©-rempli
- [ ] Compl√©tion des champs manquants
- [ ] Publication change `status: 'active'`
- [ ] Badge devient "Actif"

---

## üîç TESTS SUPABASE

### **Test 1: V√©rifier structure donn√©es**
```sql
-- Propri√©t√© compl√®te
SELECT 
  id,
  name,
  status,
  price,
  seller_id,
  images,
  documents,
  created_at,
  updated_at
FROM parcels
WHERE seller_id = 'USER_ID'
ORDER BY created_at DESC;
```

**Attendu**:
- [ ] Tous les champs remplis
- [ ] `images`: Array d'URLs Storage
- [ ] `documents`: Array d'URLs Storage
- [ ] `status`: 'draft', 'pending_verification', 'active', 'sold'
- [ ] Timestamps correctes

---

### **Test 2: V√©rifier RLS policies**
```sql
-- En tant que vendeur, voir uniquement ses annonces
SELECT * FROM parcels;
-- Doit retourner uniquement annonces du vendeur connect√©

-- En tant que acheteur, voir toutes annonces actives
SELECT * FROM parcels WHERE status = 'active';
-- Doit retourner toutes annonces actives
```

---

### **Test 3: V√©rifier Storage buckets**
```sql
-- Lister fichiers upload√©s
SELECT * FROM storage.objects 
WHERE bucket_id = 'parcel-images'
AND name LIKE 'USER_ID/%';
```

**Attendu**:
- [ ] Fichiers pr√©sents
- [ ] Naming convention respect√©e: `{user_id}/{timestamp}_{filename}`
- [ ] Tailles fichiers coh√©rentes
- [ ] M√©tadonn√©es correctes

---

## üé® TESTS UI/UX

### **Test responsive mobile**
**Proc√©dure**:
1. Ouvrir DevTools
2. Mode mobile (iPhone 12 Pro)
3. Tester chaque page

**Validation**:
- [ ] Sidebar mobile fonctionne
- [ ] Formulaires responsive
- [ ] Tableaux deviennent cards
- [ ] Boutons taille suffisante (44x44px)
- [ ] Textes lisibles

---

### **Test navigation clavier**
**Proc√©dure**:
1. Navigation avec `Tab`
2. Activation avec `Enter` ou `Space`

**Validation**:
- [ ] Focus visible
- [ ] Ordre logique
- [ ] Skip links pr√©sents
- [ ] Modals pi√©gent focus

---

### **Test accessibilit√©**
**Outils**: Lighthouse, axe DevTools

**Validation**:
- [ ] Score accessibilit√© > 90
- [ ] Contraste texte/fond suffisant
- [ ] Labels pr√©sents sur inputs
- [ ] `aria-label` sur ic√¥nes
- [ ] Headings hi√©rarchie correcte

---

## üöÄ TESTS PERFORMANCE

### **Test chargement pages**
**Proc√©dure**: Lighthouse Performance

**Attendu**:
- [ ] First Contentful Paint < 1.5s
- [ ] Time to Interactive < 3s
- [ ] Cumulative Layout Shift < 0.1
- [ ] Score Performance > 80

---

### **Test upload fichiers**
**Proc√©dure**: Upload image 5MB

**Validation**:
- [ ] Progress bar affich√©
- [ ] Upload compl√®te sans erreur
- [ ] Temps < 5s (connexion normale)
- [ ] Preview image s'affiche apr√®s upload

---

## ‚úÖ CHECKLIST FINALE

### **Option A (10 bugs corrig√©s)**
- [ ] Test 1: Navigation d√©tail propri√©t√© ‚úÖ
- [ ] Test 2: Navigation √©dition ‚úÖ
- [ ] Test 3: Suppression Supabase ‚úÖ
- [ ] Test 4: Partage social ‚úÖ
- [ ] Test 5: Brouillon ‚úÖ
- [ ] Test 6: Param√®tres ‚úÖ
- [ ] Test 7: Appeler CRM ‚úÖ
- [ ] Test 8: Email CRM ‚úÖ
- [ ] Test 9: Navigation photos ‚úÖ
- [ ] Test 10: Navigation analytics ‚úÖ

**Validation globale**:
- [ ] 0 console.error dans DevTools
- [ ] Toutes les actions ont feedback (toast/modal)
- [ ] Navigation coh√©rente
- [ ] Donn√©es persist√©es Supabase
- [ ] UI responsive

---

### **Option B (79 bugs corrig√©s)**
- [ ] Tous tests Option A ‚úÖ
- [ ] 23 boutons ModernVendeurDashboard fonctionnels
- [ ] 8 workflows end-to-end complets
- [ ] Int√©gration OpenAI active
- [ ] Blockchain TerangaChain connect√©e
- [ ] NFT minting op√©rationnel
- [ ] Pagination impl√©ment√©e
- [ ] Loading states partout
- [ ] Error handling complet
- [ ] Dark mode fonctionne
- [ ] Mobile 100% responsive

---

## üìä RAPPORT DE TEST

**Template √† remplir**:

```markdown
# Rapport de Test - Dashboard Vendeur

**Date**: [DATE]
**Testeur**: [NOM]
**Option test√©e**: [A / B / C]
**Environnement**: [Dev / Staging / Production]

## R√©sultats

### Tests pass√©s
- ‚úÖ Test 1: ...
- ‚úÖ Test 2: ...

### Tests √©chou√©s
- ‚ùå Test 5: [Description erreur]
- ‚ùå Test 7: [Description erreur]

### Bugs d√©couverts
1. **[TITRE BUG]**
   - S√©v√©rit√©: [Critique/Majeur/Mineur]
   - Steps to reproduce: ...
   - Attendu: ...
   - Obtenu: ...

## M√©triques
- Tests pass√©s: X/10 (Option A) ou X/79 (Option B)
- Taux de r√©ussite: XX%
- Temps total: XX heures

## Recommandations
- [ ] ...
- [ ] ...
```

---

## üéâ VALIDATION FINALE

**Dashboard pr√™t pour production si**:
- ‚úÖ 100% tests Option A pass√©s (ou Option B selon choix)
- ‚úÖ 0 console.error dans DevTools
- ‚úÖ Toutes donn√©es persist√©es Supabase
- ‚úÖ UI responsive mobile
- ‚úÖ Performance Lighthouse > 80
- ‚úÖ Accessibilit√© > 90

**F√©licitations ! Dashboard Vendeur op√©rationnel ! üéâüöÄ**

---

*Guide de test cr√©√© le : 7 Octobre 2025*  
*Version : 1.0*  
*Prochaine r√©vision : Apr√®s corrections*
