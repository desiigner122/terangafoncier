# üìã GUIDE COMPLET: Syst√®me de Paiement & Abonnement pour Vendeurs

**Date**: 18 Octobre 2025  
**Status**: ‚úÖ Impl√©ment√©

---

## üéØ Vue d'Ensemble

Le syst√®me de paiement Teranga Foncier permet aux vendeurs de:
1. Commencer **gratuitement** avec le plan Free
2. Payer pour des plans sup√©rieurs (Basic, Pro, Enterprise)
3. G√©rer leur abonnement et leur facturation
4. Acc√©der √† des fonctionnalit√©s premium

---

## üìä Les 4 Plans d'Abonnement

### 1. üÜì Plan FREE (Toujours Gratuit)
**Prix**: 0 CFA  
**Id√©al pour**: Vendeurs d√©butants, tests

**Limites**:
- 5 annonces maximal
- 100 demandes par mois
- 5 GB de stockage
- Support par email

**Fonctionnalit√©s**:
- ‚úÖ Cr√©er et g√©rer annonces
- ‚úÖ Analyser demandes de base
- ‚úÖ Photos standards (pas IA)
- ‚úÖ Dashboard vendeur basique

---

### 2. üíô Plan BASIC (4 990 CFA/mois)
**Prix**: 4 990 CFA (~7,60‚Ç¨)  
**Id√©al pour**: Vendeurs actifs, agents individuels

**Limites**:
- 50 annonces
- 1 000 demandes par mois
- 50 GB de stockage
- Support prioritaire

**Fonctionnalit√©s Premium**:
- ‚úÖ Tout du Free +
- ‚úÖ **Photos IA** (optimisation automatique)
- ‚úÖ Promotion jusqu'√† 3 propri√©t√©s
- ‚úÖ Analytique avanc√©e
- ‚úÖ Badge "Partenaire Premium"

---

### 3. üíú Plan PRO (9 990 CFA/mois) ‚≠ê RECOMMAND√â
**Prix**: 9 990 CFA (~15,20‚Ç¨)  
**Id√©al pour**: Agences immobili√®res, professionnels

**Limites**:
- **Annonces illimit√©es**
- **Demandes illimit√©es**
- **Stockage illimit√©**
- Support 24/7

**Fonctionnalit√©s Premium**:
- ‚úÖ Tout du Basic +
- ‚úÖ **V√©rification IA compl√®te** (anti-fraude)
- ‚úÖ **Blockchain certifications** (propri√©t√© notari√©e)
- ‚úÖ **Promotion illimit√©e** (jusqu'√† 20 propri√©t√©s)
- ‚úÖ **Gestion multi-utilisateurs** (√©quipe)
- ‚úÖ **API personnalis√©e**
- ‚úÖ Analytique compl√®te avec export
- ‚úÖ Badge "Professionnel Certifi√©"

---

### 4. üè¢ Plan ENTERPRISE (Sur Devis)
**Prix**: √Ä n√©gocier  
**Id√©al pour**: Grands groupes, consortiums

**Tout illimit√©** +
- ‚úÖ Support d√©di√©
- ‚úÖ Int√©grations custom
- ‚úÖ Formation √©quipe
- ‚úÖ SLA 99.9%
- ‚úÖ Cloud priv√© optionnel

---

## üí≥ Comment Payer?

### Option 1: **Stripe (International)**
- **Accepte**: Visa, Mastercard, Amex
- **S√©curit√©**: 3D Secure
- **D√©lai**: Instantan√©
- **Frais**: ~2-3% inclus

**√âtapes**:
1. Aller √† `/dashboard/vendeur/settings/subscription`
2. Cliquer "Choisir ce plan"
3. Redirection Stripe Checkout
4. Saisir donn√©es carte
5. Paiement approuv√©
6. Plan activ√© imm√©diatement

### Option 2: **Wave (S√©n√©gal)**
- **Accepte**: Orange Money, Free Money, Tigo Cash
- **S√©curit√©**: PIN Wave
- **D√©lai**: Instantan√©
- **Frais**: ~1% r√©duits

**√âtapes**:
1. S√©lectionner "Wave" au paiement
2. Num√©ro de portabilit√© (+221 7X XXX XXXX)
3. Confirmer sur mobile
4. Plan activ√©

### Option 3: **Virement Bancaire**
- **Pour**: Professionnels/Entreprises
- **D√©lai**: 2-3 jours ouvrables
- **Documents**: Facture auto-g√©n√©r√©e

**Coordonn√©es IBAN**:
```
B√©n√©ficiaire: TERANGA FONCIER SARL
IBAN: [√Ä voir avec directeur finance]
BIC: [√Ä voir avec directeur finance]
R√©f√©rence: [USER_ID]-[PLAN_NAME]
```

### Option 4: **Codes Promo**
- **R√©ductions**: Jusqu'√† 50%
- **Dur√©e**: 1 mois √† 1 an selon offre
- **O√π les trouver**:
  - Email marketing
  - Partenariats
  - √âv√©nements sp√©ciaux

---

## üìà Comment le Vendeur B√©n√©ficie?

### Plan FREE:
```
5 annonces √ó 100 demandes/mois = 500 opportunit√©s
Pas de revenu direct (usage gratuit)
```

### Plan BASIC (4 990 CFA/mois):
```
50 annonces √ó 1000 demandes/mois = 50 000 opportunit√©s
ROI: Vendre 1 propri√©t√©/mois = 50k-100k CFA revenue
Cout: 4 990 CFA
Profit: ~45k-95k CFA (10-20x ROI)
```

### Plan PRO (9 990 CFA/mois):
```
ILLIMIT√â annonces √ó ILLIMIT√â demandes = ‚àû opportunit√©s
Multi-utilisateurs: Equipe peut travailler ensemble
Vendre 2-3 propri√©t√©s/mois = 100k-300k CFA revenue
Cout: 9 990 CFA
Profit: ~90k-290k CFA (10-30x ROI)
```

---

## üîÑ Gestion de l'Abonnement

### Voir mon Abonnement Actuel
```
Menu ‚Üí Param√®tres ‚Üí Abonnement
Affiche:
- Plan actuel
- Date renouvellement
- Limite utilisation
- Factures pr√©c√©dentes
```

### Modifier mon Plan
```
1. Aller √† Param√®tres ‚Üí Abonnement
2. Cliquer "Passer √† [Plan]"
3. Effectuer paiement
4. Activation imm√©diate
5. Diff√©rence au prorata
```

### T√©l√©charger Factures
```
Param√®tres ‚Üí Facturation ‚Üí T√©l√©charger PDF
Factures inclus:
- Num√©ro de facture
- Description services
- Dates
- Montant
- TVA (si applicable)
```

### Annuler Abonnement
```
Param√®tres ‚Üí Abonnement ‚Üí Revenir √† Free
- Plan Free reste actif √† jamais
- Annonce > 5 = supprim√©es automatiquement
- Demandes restantes = archiv√©es
- Pas de remboursement (sauf Stripe 30j)
```

---

## üÜò Probl√®mes Courants & Solutions

### ‚ùå "Mon paiement a √©chou√©"
**Causes possibles**:
1. Carte invalide/expir√©e
2. Insuffisance de fonds
3. Limite d√©pass√©e (banque)
4. 3D Secure non valid√©

**Solutions**:
```
1. V√©rifier d√©tails carte
2. Ajouter fonds √† compte
3. Contacter banque
4. Valider code SMS 3D Secure
5. R√©essayer ou autre carte
```

### ‚ùå "Je n'ai pas re√ßu ma facture"
**Solutions**:
```
1. V√©rifier email (dont spam)
2. T√©l√©charger depuis Param√®tres
3. Contacter support@terangafoncier.sn
```

### ‚ùå "Je veux un remboursement"
**Politique Stripe**:
```
- Remboursement dans 30 jours: Automatique
- Apr√®s 30 jours: Nous contacter

Contactez: support@terangafoncier.sn
```

### ‚ùå "Mon plan n'a pas √©t√© activ√©"
**Solutions**:
```
1. Actualiser page (F5)
2. D√©connecter/reconnecter
3. Vider cache navigateur
4. V√©rifier email de confirmation
5. Support si probl√®me persiste
```

---

## üì± Int√©gration API

### Pour les D√©veloppeurs/Int√©grateurs

**Endpoints de paiement**:
```javascript
// Cr√©er session paiement
POST /api/create-checkout-session
{
  priceId: "price_123abc",
  userId: "user-uuid",
  planName: "pro"
}

// V√©rifier statut abonnement
GET /api/subscription-status/:userId
Response: {
  plan: "pro",
  active: true,
  nextBillingDate: "2025-11-18"
}

// Webhook Stripe
POST /api/webhooks/stripe
// Traite: payment_intent.succeeded, etc.
```

**Variables d'environnement**:
```env
STRIPE_PUBLIC_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

---

## üõ°Ô∏è S√©curit√© & Conformit√©

‚úÖ **PCI Compliance**: Stripe g√®re donn√©es cartes (pas nous)  
‚úÖ **RGPD**: Donn√©es EU conformes  
‚úÖ **Chiffrement**: TLS 1.3 + SSL  
‚úÖ **Audit**: Logs Stripe, paiements trac√©s  
‚úÖ **Refund**: Jusqu'√† 30 jours Stripe  

---

## üìû Support Paiement

**Email**: payment-support@terangafoncier.sn  
**Chat**: Disponible 9h-18h (GMT+1)  
**T√©l√©phone**: +221 77 123 45 67  
**Ticket**: /support/payment

---

## üöÄ Prochaines √âtapes

### Court Terme (2 semaines):
- [ ] Activer Stripe production (cl√©s live)
- [ ] Tester paiements complets
- [ ] Envoyer emails confirmation

### Moyen Terme (1 mois):
- [ ] Int√©grer Wave/Mobile Money
- [ ] Ajouter factures auto-g√©n√©r√©es PDF
- [ ] Mettre en place reminders renouvellement

### Long Terme (2-3 mois):
- [ ] Virement bancaire international
- [ ] Partenariats bancaires S√©n√©gal
- [ ] Paiements r√©currents automatis

---

## üí° Exemples de Revenu Vendeur

### Sc√©nario 1: Vendeur D√©butant (Plan FREE)
```
Capacit√©: 5 annonces, 100 demandes/mois
Ventes estim√©es: 0-1 propri√©t√©/mois (50k-100k CFA)
Revenu NET: 50k-100k (gratuit)
```

### Sc√©nario 2: Vendeur Actif (Plan BASIC)
```
Capacit√©: 50 annonces, 1k demandes/mois
Ventes estim√©es: 1-2 propri√©t√©s/mois (100k-200k CFA)
D√©penses: 4 990 CFA abonnement
Revenu NET: ~95k-195k CFA/mois
Profit Annuel: ~1.14M-2.34M CFA
```

### Sc√©nario 3: Agence (Plan PRO)
```
Capacit√©: ILLIMIT√â
Ventes estim√©es: 5-10 propri√©t√©s/mois (500k-1M CFA)
D√©penses: 9 990 CFA abonnement
Employ√©s: 2-3 (Multi-user)
Revenu NET: ~490k-990k CFA/mois
Profit Annuel: ~5.88M-11.88M CFA
```

---

## üìù Notes Finales

**Pour les Vendeurs**:
- Commencez GRATUIT avec le plan Free
- Passez √† Basic une fois √©tabli (ROI 10x)
- Consid√©rez Pro si vous avez √©quipe
- Support complet pour tous les probl√®mes

**Pour l'√âquipe Teranga**:
- Stripe est pr√™t pour production
- Logs/analytics dans Stripe Dashboard
- Webhooks √† tester en production
- Refunds g√©r√©s via Stripe

---

‚úÖ **Syst√®me de paiement COMPLET et PR√äT √† l'emploi!**
